/*! cue 0.5.9 | @link github.com/ryanve/cue | @license MIT | @author Ryan Van Etten */
(function(m,G,w){function n(a,c,b){for(var d,e=0,g=a.length;e<g;)if(d=c.call(b,a[e],e++,a))return d}function H(a,c){a=a||0;var b=a/60,d,e=60*a;d=(b/60).toFixed();b=(b%60).toFixed();a=(a%60).toFixed();e=(e%60).toFixed();b=[d,b,a,e];if(!1===c)return b;b=b.join(c||" : ");return b.replace(I,"$10$2")}function J(a,c){return n(K[c],function(b){return a[b]})||""}function L(a){var c,b=0,d=[];if(!a)return d;a="string"==typeof a?a.split(" "):a;for(c=a.length;b<c;b++)a[b]&&d.push(a[b]);return d}function x(a,
c,b){null==b?a.removeAttribute(c):a.setAttribute(c,b)}function M(a,c,b){var d;if(a="function"==typeof a?a.call(this):a){if("string"!=typeof a)return a;if(a=y(a))return".json"===a.substr(-5)?k.get(a,function(a){a&&c.call(b,a)},"json"):d=z(a),d}}function N(a,c){n(c,function(b){null==b.getAttribute(t)||a.find("."+A).length||(b.removeAttribute(t),n(a.children(),function(a){if(a===b||k.contains(a,b))return u=u||k(O),u.insertAfter(a),1}))})}function P(a,c,b,d,e,g){g=g||0;var l,f,h=b.currentSrc,p=0,q=0,
m=e.length;if(h)for(f=h.split(".").pop()||"src";p<m;p++)if(e[p]&&e[p][f]===h){l=e[q=p+g];break}l||(q=0>g?m-1:0,l=e[q]);b.src=l[f]||"";a.setAttribute("data-cue-idx",q);v===d&&x(b,B,l[B]);b.play();n(c,function(a){var b,c,d;if(a&&1===a.nodeType&&(d=a.getAttribute(Q),c=a.getAttribute(R),null==d||(null==(d=l[d])?k(a).empty():k(a).html(d)),c=c&&"string"==typeof c&&z(c)))for(b in c)"string"!=typeof c[b]&&"number"!=typeof c[b]||x(a,b,l[c[b]])});return q}function C(a,c,b,d){var e="data-"+b+"-cue",g={};g[e]=
"";return a.find(c).not("["+e+"]").on(b+".cue",d).attr(g).removeClass(D).addClass(E)}function S(a,c){var b=a.find(".cue-time");b.length&&c.on("timeupdate.cue",function(){b.html(H(this.currentTime))}).addClass(E).removeClass(D)}function T(a,c){this[c=a.split(".").pop()]||(this[c]=a)}function r(a){n(this,function(c){function b(){var a=e.paused||e.ended;this.className="cue-"+(a?"pause":"play");h[a?"addClass":"removeClass"](U)[a?"removeClass":"addClass"](V)}if(1===c.nodeType){if("function"==typeof a)return!r.call([c],
a.call(c));var d,e,g,l,f,h=k(c);if(f=a||h.attr("data-cue"))if(f=M(f,r,h),"object"==typeof f&&(f=f?[].concat(f):[],e=h.find(v+","+F)[0]))if(l=(e.nodeName||e).toLowerCase(),d=k(e),N(h,d),S(h,d),C(h,".cue-play,.cue-pause","click",function(){e[e.paused||e.ended?"play":"pause"]()}),d.on("play.cue",b),d.on("pause.cue",b),d=f.length){for(;d--;)f[d]["track-number"]=d,n(L(f[d].src),T,f[d]),f[d].src=J(f[d],l);g=c.getElementsByTagName("*");n([".cue-prev",".cue-next"],function(a,b){C(h,a,"click",function(){P(c,
g,e,l,f,b||-1)})})}else h.attr("data-cue","")}});return this}var u,s=m.require,k=m.jQuery||s&&s("jquery")||m.ender||s&&s("ender"),y=k.trim||function(a){return a.replace(/^\s+|\s+$/,"")};m=G.JSON;var W=k.parseJson||m&&m.parse,z=function(a){return"string"==typeof a&&(a=y(a))?W(a):null},I=/(^|\D)(\d\D|\d$)/g,F="audio",v="video",B="poster",E="cue-active",D="cue-inactive",V="cue-paused",U="cue-playing",Q="data-cue-insert",R="data-cue-attr",t="controls",A="cue-"+t,O="<div class="+A+"><button accesskey=j class=cue-prev title=previous><span>|&#9668;&#9668;</span></button><button accesskey=p class=cue-play title=play/pause><span>&#9658;</span><span>| |</span></button><button accesskey=k class=cue-next title=next><span>&#9658;&#9658;|</span></button><output class=cue-time></output></div>",
K=n([F,v],function(a,c){var b,d=this[a]=[],e=w.createElement(a),g=c?{ogg:['ogg;codecs="theora"'],webm:['webm;codecs="vp8,vorbis"'],mp4:['mp4;codecs="avc1.42E01E"']}:{m4a:["aac;","x-m4a;"],wav:["mpeg;"],ogg:['ogg;codecs="vorbis"'],opus:['ogg;codecs="opus"'],mp3:["mpeg;"]};if(e.canPlayType)for(b in a+="/",g)g.hasOwnProperty(b)&&n(g[b],function(c){c=e.canPlayType(a+c);if(d[b]="no"!==c&&c||!1)return d["maybe"===c?"push":"unshift"](b)});return c&&this},{});k.fn.cue=r;k(w).ready(function(){r.call(k("[data-cue]"))})})(this,
window,document);