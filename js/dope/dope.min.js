/*!
 * dope         HTML attributes/dataset module
 * @link        http://github.com/ryanve/dope
 * @license     MIT
 * @copyright   2012 Ryan Van Etten
 * @version     2.2.1
 */
!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c():a[b]=c()}(this,"dope",function(){function a(a,b){return b.toUpperCase()}function b(b){return"string"!=typeof b?"number"==typeof b||"boolean"==typeof b?""+b:"":b.replace(D,"").replace(A,a)}function c(a){return a="string"==typeof a?a.replace(D,"$1").replace(z,"$1-$2"):"number"==typeof a?""+a:"",a?"data-"+a.toLowerCase():a}function d(a){var b;return"string"==typeof a&&a?"false"===a?!1:"true"===a?!0:"null"===a?null:"undefined"===a||(b=+a)||0===b||"NaN"===a?b:a:a}function e(a,b,c,d){var e,f,g=0,h=0,i=[];if(null==a)return i;for(d=!0===d,e=a.length;e>g;)f=b.call(c,a[g],g++,a),(f||!d)&&(i[h++]=f);return i}function f(a,b,c){for(var d=a.length,e=0;d>e;e++)a[e]&&a[e].nodeType&&b(a[e],c);return a}function g(a,b,c){var d,e,f,g,h;if(a.attributes)for(d="boolean"==typeof c?/^data-/:d,g=0,h=a.attributes.length;h>g;)(f=a.attributes[g++])&&(e=""+f.name,d&&d.test(e)!==c||null==f.value||b.call(a,f.value,e,f))}function h(a){var c;if(a&&1===a.nodeType)return(c=u&&a.dataset)?c:(c={},g(a,function(a,d){c[b(d)]=""+a},!0),c)}function i(a,b){if(a){var c,d=a.dataset;if(d&&u){if(d===b)return;for(c in d)delete d[c]}b&&l(a,b)}}function j(a,b,c){for(var d in b)t.call(b,d)&&c(a,d,b[d])}function k(a,b,c){return a=a.nodeType?a:a[0],a&&a.setAttribute&&(b="function"==typeof b?b.call(a):b)?"object"!=typeof b?void 0===c?(b=a.getAttribute(b),null==b?c:""+b):(c="function"==typeof c?c.call(a):c,c=""+c,a.setAttribute(b,c),c):(j(a,b,k),void 0):void 0}function l(a,b,e){var f,g="function"==typeof b;if(a=a.nodeType?a:a[0],a&&a.setAttribute){if(void 0===b&&e===b)return h(a);if(b=g?b.call(a):b,"object"!=typeof b||!g&&(f=void 0===e&&c(b[0]))){if(b=f||c(b),!b)return;return void 0===e?(b=a.getAttribute(b),null==b?e:f?d(b):""+b):(e="function"==typeof e?e.call(a):e,e=""+e,a.setAttribute(b,e),e)}g&&m(a),b&&j(a,b,l)}}function m(a,b){var d,e=0;if(a=a.nodeType?a:a[0],a&&a.removeAttribute)if(void 0===b)i(a);else for(b="string"==typeof b?b.split(F):[].concat(b);e<b.length;)d=c(b[e++]),d&&a.removeAttribute(d)}function n(a,b){var c=0;if(a=a.nodeType?a:a[0],a&&a.removeAttribute)for(b="string"==typeof b?b.split(F):[].concat(b);c<b.length;c++)b[c]&&a.removeAttribute(b[c])}function o(a,b,d){var e,f,g=0,h=0,i="",j=[];for(b=!0===b,a="string"==typeof a?a.split(B):"number"==typeof a?""+a:a,e=a.length;e>g;)f=a[g++],f=b?c(f):f.replace(C,i),f&&(j[h++]=f);return!1===d?j:h?"["+j.join("],[").replace(E,"\\\\.")+"]":i}function p(a,b){var c,d,e,f,g=a.length,h=[],i=0;if(!g)return h;for(f=y("*",b),c=0;e=f[c];c++)for(d=g;d--;)if(null!=k(e,a[d])){h[i++]=e;break}return h}var q=document,r={},s=r.fn={},t=r.hasOwnProperty,u="undefined"!=typeof DOMStringMap,v="undefined"!=typeof JSON&&JSON.parse,w="querySelectorAll",x=!!q[w]||!(w="getElementsByTagName"),y=function(a,b){return a?(b||q)[w](a):[]},z=/([a-z])([A-Z])/g,A=/-(.)/g,B=/\s*[\s\,]+\s*/,C=/^[\[\s]+|\s+|[\]\s]+$/g,D=/^[\[\s]?(data-)?|\s+|[\]\s]?$/g,E=/\\*\./g,F=/\s+/,G=/^\s+|\s+$/,H="".trim?function(a){return null==a?"":a.trim()}:function(a){return null==a?"":a.replace(G,"")};return r.queryData=x?function(a,b){return!1===b?o(a,!0,b):y(o(a,!0),b)}:function(a,b){return a=o(a,!0,!1),!1===b?a:p(a,b)},r.queryAttr=x?function(a,b){return!1===b?o(a,b,b):y(o(a),b)}:function(a,b){return a=o(a,!1,!1),!1===b?a:p(a,b)},r.map=e,r.parse=d,r.parseJSON=function(a){if(a=d(a),"string"==typeof a)try{a=v(H(a))}catch(b){}return a},r.trim=H,r.qsa=y,r.attr=k,r.removeAttr=n,r.dataset=l,r.deletes=m,r.camelize=b,r.datatize=c,s.dataset=function(a,b){var d="object"==typeof a?!(void 0===b&&c(a[0])):"function"==typeof a;return void 0!==b||d?(a=d?a:c(a))?f(this,function(c,e){e="function"==typeof b?b.call(c):b,d?l(c,a,e):c.setAttribute(a,""+e)}):void 0===b?b:this:l(this[0],a)},s.attr=function(a,b){var c="object"==typeof a||"function"==typeof a;return void 0!==b||c?a?f(this,function(d,e){e="function"==typeof b?b.call(d):b,c?k(d,a,e):d.setAttribute(a,""+e)}):void 0===b?b:this:k(this[0],a)},s.deletes=function(a){return void 0===a?f(this,i):(a="string"==typeof a?a.split(F):[].concat(a),f(this,n,e(a,c)))},s.removeAttr=function(a){return f(this,n,a)},r});